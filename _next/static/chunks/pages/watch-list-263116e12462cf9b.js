(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{6532:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/watch-list",function(){return t(8208)}])},8208:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var a=t(4848),i=t(6540),n=t(9428),c=t(1468);let l=t(2909).A;var r=t(2845),d=t(4335);async function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0x14d3f22,s=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"created_at.asc",a={method:"GET",url:"https://api.themoviedb.org/3/account/".concat(e,"/watchlist/movies?language=en-US&page=1&session_id=").concat(s,"&sort_by=").concat(t),headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNjdhNzg2NTUzZjZkNmFjZDIzYjM3NjQxZTczYmUwYiIsIm5iZiI6MTc0MDM2NzE1MC4yNTUsInN1YiI6IjY3YmJlNTJkYmQ0OGU4OTI0Y2JlZTVhYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Xa3Po7q0eXaQe4jofc07HDfFxkv_k_pDe9FS_RbNNhM"}};return(await d.A.request(a)).data}var o=t(5011),u=t(1561),m=t(1106),N=t.n(m);function j(){let{searchResult:e}=(0,c.d4)(e=>e.searchMovie),{session:s,profile:t}=(0,c.d4)(e=>e.TMDBUser),d=(0,c.wA)(),[m,j]=(0,i.useState)(null),[_,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{s.success&&t.id&&h(t.id,s.session_id,"created_at.asc").then(e=>d((0,r.Cp)(e)))},[t,s,d]);let{isLogin:x}=(0,u.V)();return(0,a.jsx)(n.A,{children:(0,a.jsxs)("div",{className:"container","data-bs-theme":"dark",children:[!x&&(0,a.jsxs)("h5",{className:"mt-3",children:["尚未登入，請",(0,a.jsx)(N(),{href:"/",className:"text-secondary",children:"返回探索"})]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{className:"btn btn--primary ms-3 mt-3",onClick:()=>{var s;(null==e?void 0:null===(s=e.results)||void 0===s?void 0:s.length)&&(v(!0),setTimeout(()=>{let s=Math.floor(Math.random()*e.results.length);j(e.results[s]),v(!1)},1e3))},disabled:_,children:_?"轉盤轉動中...":"隨機選片"}),(0,a.jsx)("div",{className:"mt-4 text-center",children:m&&(0,a.jsx)(l,{movie:m,isWatchList:!0},m.id)}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("h3",{className:"py-3 d-flex align-items-center",children:"待播清單"}),(0,a.jsx)(o.A,{})]})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[650,110,636,593,792],()=>s(6532)),_N_E=e.O()}]);