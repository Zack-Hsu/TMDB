(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{6532:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/watch-list",function(){return t(2038)}])},2038:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(4848),i=t(6540),l=t(3886),n=t(1468),c=t(7412),d=t(8341),o=t(2845),r=t(4335);async function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0x14d3f22,s=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"created_at.asc",a={method:"GET",url:"https://api.themoviedb.org/3/account/".concat(e,"/watchlist/movies?language=en-US&page=1&session_id=").concat(s,"&sort_by=").concat(t),headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNjdhNzg2NTUzZjZkNmFjZDIzYjM3NjQxZTczYmUwYiIsIm5iZiI6MTc0MDM2NzE1MC4yNTUsInN1YiI6IjY3YmJlNTJkYmQ0OGU4OTI0Y2JlZTVhYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Xa3Po7q0eXaQe4jofc07HDfFxkv_k_pDe9FS_RbNNhM"}};return(await r.A.request(a)).data}var u=t(758);function v(){var e;let{searchResult:s}=(0,n.d4)(e=>e.searchMovie),{session:t,profile:r}=(0,n.d4)(e=>e.TMDBUser),v=(0,n.wA)(),[N,m]=(0,i.useState)(null),[j,_]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t.success&&r.id&&h(r.id,t.session_id,"created_at.asc").then(e=>v((0,o.Cp)(e)))},[r,t,v]),(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"container","data-bs-theme":"dark",children:[(0,a.jsx)(c.A,{}),(0,a.jsx)("h3",{children:"待看清單"}),(0,a.jsx)("div",{className:"row",children:null==s?void 0:null===(e=s.results)||void 0===e?void 0:e.map(e=>(0,a.jsx)(d.A,{movie:e,isWatchList:!0},e.id))}),(0,a.jsx)(u.A,{}),(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)("button",{className:"btn btn-primary",onClick:()=>{var e;(null==s?void 0:null===(e=s.results)||void 0===e?void 0:e.length)&&(_(!0),setTimeout(()=>{let e=Math.floor(Math.random()*s.results.length);m(s.results[e]),_(!1)},1e3))},disabled:j,children:j?"轉盤轉動中...":"隨機選片"}),N&&(0,a.jsx)(d.A,{movie:N,isWatchList:!0},N.id)]}),(0,a.jsxs)("div",{className:"",children:["Current Page: ",null==s?void 0:s.page]}),(0,a.jsxs)("div",{className:"",children:["Total Pages: ",null==s?void 0:s.total_pages]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[650,290,636,593,792],()=>s(6532)),_N_E=e.O()}]);