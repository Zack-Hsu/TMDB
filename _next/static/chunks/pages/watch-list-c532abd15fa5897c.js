(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{6532:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/watch-list",function(){return t(2038)}])},2038:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var a=t(4848),i=t(6540),l=t(9101),n=t(1468),c=t(8341),d=t(2845),o=t(4335);async function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0x14d3f22,s=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"created_at.asc",a={method:"GET",url:"https://api.themoviedb.org/3/account/".concat(e,"/watchlist/movies?language=en-US&page=1&session_id=").concat(s,"&sort_by=").concat(t),headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNjdhNzg2NTUzZjZkNmFjZDIzYjM3NjQxZTczYmUwYiIsIm5iZiI6MTc0MDM2NzE1MC4yNTUsInN1YiI6IjY3YmJlNTJkYmQ0OGU4OTI0Y2JlZTVhYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Xa3Po7q0eXaQe4jofc07HDfFxkv_k_pDe9FS_RbNNhM"}};return(await o.A.request(a)).data}var h=t(758);function u(){var e;let{searchResult:s}=(0,n.d4)(e=>e.searchMovie),{session:t,profile:o}=(0,n.d4)(e=>e.TMDBUser),u=(0,n.wA)(),[v,N]=(0,i.useState)(null),[m,j]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t.success&&o.id&&r(o.id,t.session_id,"created_at.asc").then(e=>u((0,d.Cp)(e)))},[o,t,u]),(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"container","data-bs-theme":"dark",children:[(0,a.jsx)("h3",{className:"py-3",children:"待播清單"}),(0,a.jsx)("div",{className:"row",children:null==s?void 0:null===(e=s.results)||void 0===e?void 0:e.map(e=>(0,a.jsx)(c.A,{movie:e,isWatchList:!0},e.id))}),(0,a.jsx)(h.A,{}),(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)("button",{className:"btn btn-primary",onClick:()=>{var e;(null==s?void 0:null===(e=s.results)||void 0===e?void 0:e.length)&&(j(!0),setTimeout(()=>{let e=Math.floor(Math.random()*s.results.length);N(s.results[e]),j(!1)},1e3))},disabled:m,children:m?"轉盤轉動中...":"隨機選片"}),v&&(0,a.jsx)(c.A,{movie:v,isWatchList:!0},v.id)]}),(0,a.jsxs)("div",{className:"",children:["Current Page: ",null==s?void 0:s.page]}),(0,a.jsxs)("div",{className:"",children:["Total Pages: ",null==s?void 0:s.total_pages]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[650,510,636,593,792],()=>s(6532)),_N_E=e.O()}]);