(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{6532:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/watch-list",function(){return t(2038)}])},2038:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var i=t(4848),a=t(6540),l=t(5133),n=t(1468),c=t(7412),d=t(8341),r=t(2957),o=t(4335);async function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0x14d3f22,s=arguments.length>1?arguments[1]:void 0,t={method:"GET",url:"https://api.themoviedb.org/3/account/".concat(e,"/watchlist/movies?language=en-US&page=1&session_id=").concat(s,"&sort_by=created_at.asc"),headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNjdhNzg2NTUzZjZkNmFjZDIzYjM3NjQxZTczYmUwYiIsIm5iZiI6MTc0MDM2NzE1MC4yNTUsInN1YiI6IjY3YmJlNTJkYmQ0OGU4OTI0Y2JlZTVhYSIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Xa3Po7q0eXaQe4jofc07HDfFxkv_k_pDe9FS_RbNNhM"}};return(await o.A.request(t)).data}var u=t(758),v=t(6715);function N(){var e;let{searchResult:s}=(0,n.d4)(e=>e.searchMovie),{session:t,profile:o}=(0,n.d4)(e=>e.TMDBUser),N=(0,n.wA)(),m=(0,v.useRouter)(),[j,_]=(0,a.useState)(null),[p,x]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t.success&&o.id?h(o.id,t.session_id).then(e=>N((0,r.Cp)(e))):m.push("/")},[o,t,N]),(0,i.jsx)(l.A,{children:(0,i.jsxs)("div",{className:"container","data-bs-theme":"dark",children:[(0,i.jsx)(c.A,{}),(0,i.jsx)("h3",{children:"待看清單"}),(0,i.jsx)("div",{className:"row",children:null==s?void 0:null===(e=s.results)||void 0===e?void 0:e.map(e=>(0,i.jsx)(d.A,{movie:e,isWatchList:!0},e.id))}),(0,i.jsx)(u.A,{}),(0,i.jsxs)("div",{className:"mt-4 text-center",children:[(0,i.jsx)("button",{className:"btn btn-primary",onClick:()=>{var e;(null==s?void 0:null===(e=s.results)||void 0===e?void 0:e.length)&&(x(!0),setTimeout(()=>{let e=Math.floor(Math.random()*s.results.length);_(s.results[e]),x(!1)},1e3))},disabled:p,children:p?"轉盤轉動中...":"隨機選片"}),j&&(0,i.jsx)(d.A,{movie:j,isWatchList:!0},j.id)]}),(0,i.jsxs)("div",{className:"",children:["Current Page: ",null==s?void 0:s.page]}),(0,i.jsxs)("div",{className:"",children:["Total Pages: ",null==s?void 0:s.total_pages]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[650,937,636,593,792],()=>s(6532)),_N_E=e.O()}]);